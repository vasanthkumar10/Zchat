{"version":3,"sources":["components/Chat/Chat.js","icons/onlineIcon.png","components/InfoBar/InfoBar.js","icons/closeIcon.png","components/Input/Input.js","components/Messages/Message/Message.js","components/Messages/Messages.js","components/Join/Join.js","App.js","index.js"],"names":["socket","InfoBar","room","removeUser","className","src","onlineIcon","alt","href","onClick","Input","setMessage","sendMessage","message","type","placeholder","value","onChange","e","target","onKeyPress","event","key","Message","text","user","isSentByCurrentUser","trimmedName","name","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","map","i","Chat","location","useState","setName","setRoom","setUsers","setMessages","useEffect","queryString","parse","search","io","emit","error","off","on","users","preventDefault","Join","to","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.345ee98d.chunk.js","sourcesContent":["import './Chat.css';\n\nimport React, { useEffect, useState } from \"react\";\n\nimport InfoBar from '../InfoBar/InfoBar';\nimport Input from '../Input/Input';\nimport Messages from '../Messages/Messages';\nimport TextContainer from '../TextContainer/TextContainer';\nimport io from \"socket.io-client\";\nimport queryString from 'query-string';\n\nconst ENDPOINT = 'https://vasizebronchat.herokuapp.com/';\n\nlet socket;\n\nconst Chat = ({ location }) => {\n    const [name, setName] = useState('');\n    const [room, setRoom] = useState('');\n    const [users, setUsers] = useState('');\n    const [message, setMessage] = useState('');\n    const [messages, setMessages] = useState([]);\n\n    useEffect(() => {\n        const { name, room } = queryString.parse(location.search);\n\n        socket = io(ENDPOINT);\n\n        setRoom(room);\n        setName(name)\n\n        socket.emit('join', { name, room }, (error) => {\n            if (error) {\n                socket.emit('disconnected', name);\n                socket.emit('join', { name, room }, () => {\n\n                })\n            }\n        });\n\n        return () => {\n            socket.emit('disconnected');\n            socket.off();\n        }\n    }, [location.search]);\n\n    useEffect(() => {\n        socket.on('message', (message) => {\n            setMessages([...messages, message]);\n        });\n\n        socket.on(\"roomData\", ({ users }) => {\n            setUsers(users);\n        });\n    }, [messages]);\n\n    const sendMessage = (event) => {\n        event.preventDefault();\n        if (message) {\n            socket.emit('sendMessage', message, () => setMessage(''));\n        }\n    }\n\n    const removeUser = () => {\n        socket.emit('disconnected', name);\n    }\n\n    return (\n        <div className=\"outerContainer\">\n            <div className=\"container\">\n                <InfoBar room={room} removeUser={removeUser} />\n                <Messages messages={messages} name={name} />\n                <Input message={message} setMessage={setMessage} sendMessage={sendMessage} />\n            </div>\n        </div>\n    );\n}\n\nexport default Chat;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","import './InfoBar.css';\n\nimport React from 'react';\nimport closeIcon from '../../icons/closeIcon.png';\nimport onlineIcon from '../../icons/onlineIcon.png';\n\nconst InfoBar = ({ room, removeUser }) => (\n    <div className=\"infoBar\">\n        <div className=\"leftInnerContainer\">\n            <img className=\"onlineIcon\" src={onlineIcon} alt=\"online icon\" />\n            <h3>{room}</h3>\n        </div>\n        <div className=\"rightInnerContainer\">\n            <a href=\"/\" onClick={removeUser}><img src={closeIcon} alt=\"close icon\" /></a>\n        </div>\n    </div>\n);\n\nexport default InfoBar;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","import './Input.css';\n\nimport React from 'react';\n\nconst Input = ({ setMessage, sendMessage, message }) => (\n    <form className=\"form\">\n        <input\n            className=\"input\"\n            type=\"text\"\n            placeholder=\"Type a message...\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}\n        />\n        <button className=\"sendButton\" onClick={e => sendMessage(e)}>Send</button>\n    </form>\n)\n\nexport default Input;","import './Message.css';\n\nimport React from 'react';\nimport ReactEmoji from 'react-emoji';\n\nconst Message = ({ message: { text, user }, name }) => {\n    let isSentByCurrentUser = false;\n    const trimmedName = name.trim().toLowerCase();\n\n    if (user === trimmedName) {\n        isSentByCurrentUser = true;\n    }\n\n    return (\n        isSentByCurrentUser\n            ? (\n                <div className=\"messageContainer justifyEnd\">\n                    <p className=\"sentText pr-10\">{trimmedName}</p>\n                    <div className=\"messageBox backgroundBlue\">\n                        <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\n                    </div>\n                </div>\n            )\n            : (\n                <div className=\"messageContainer justifyStart\">\n                    <div className=\"messageBox backgroundLight\">\n                        <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\n                    </div>\n                    <p className=\"sentText pl-10 \">{user}</p>\n                </div>\n            )\n    );\n}\n\nexport default Message;","import './Messages.css';\n\nimport Message from './Message/Message';\nimport React from 'react';\nimport ScrollToBottom from 'react-scroll-to-bottom';\n\nconst Messages = ({ messages, name }) => {\n    return (\n        <ScrollToBottom className=\"messages\" >\n            { messages.map((message, i) => <div key={i}><Message message={message} name={name} /></div>)}\n        </ScrollToBottom >\n    )\n};\n\nexport default Messages;","import './Join.css'\n\nimport React, { useState } from 'react'\n\nimport { Link } from 'react-router-dom'\n\nconst Join = () => {\n    const [name, setName] = useState('');\n    const [room, setRoom] = useState('');\n\n    return (\n        <div className=\"joinOuterContainer\">\n            <div className=\"joinInnerContainer\">\n                <h1 className='heading'>ZChat</h1>\n                <div>\n                    <input\n                        placeholder=\"Name\"\n                        className=\"joinInput\"\n                        type=\"text\"\n                        onChange={(e) => setName(e.target.value)}\n                    />\n                </div>\n                <div>\n                    <input\n                        placeholder=\"Room\"\n                        className=\"joinInput mt-20\"\n                        type=\"text\"\n                        onChange={(e) => setRoom(e.target.value)}\n                    />\n                </div>\n                <Link onClick={(e) => (!name || !room) ? e.preventDefault() : null} to={`/chat?name=${name}&room=${room}`}>\n                    <button className=\"button mt-20\" type=\"submit\">Sign In</button>\n                </Link>\n            </div>\n        </div>\n    )\n}\n\nexport default Join","import { Route, BrowserRouter as Router } from 'react-router-dom'\n\nimport Chat from './components/Chat/Chat'\nimport Join from './components/Join/Join'\nimport React from 'react'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route path='/' exact component={Join} />\n        <Route path='/chat' exact component={Chat} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import './index.css';\n\nimport App from './App';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}